<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css">
        <link rel="stylesheet" href="css/L.Control.Layers.Tree.css">
        <link rel="stylesheet" href="css/qgis2web.css">
        <link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link rel="stylesheet" href="css/filter.css">
        <link rel="stylesheet" href="css/nouislider.min.css">
        <link rel="stylesheet" href="css/leaflet-measure.css">
		<link rel="stylesheet" href="css/leaflet-control-credits.css" />
		<link href="css/Leaflet_GraphicScale_min.css" rel="stylesheet" type="text/css">
		<link rel="stylesheet" href="css/LControlMousePosition.css" />
		<link rel="stylesheet" href="css/leaflet.zoomhome.css"/>
		<link href="css/introLoader.css" rel="stylesheet">
	    <link rel="stylesheet" href="css/Leaflet.BigImage.css">
		<link rel="stylesheet" type="text/css" href="css/leaflet-history.css">
		<link rel="stylesheet" href="css/leaflet-sidepanel.css" />
		<link rel="stylesheet" type="text/css" href="css/leaflet.scalefactor.css">
        
		<style>
        html, body {  width: 100%;height: 100%; padding: 0; margin: 0; background-color:#ececec42!important; overflow-y: hidden;}
		#map{ width: 100%; height: 100%; padding: 0; margin: 0; overflow-y: hidden;}
		#beta { position:fixed; left:38%; bottom:40px; z-index: 1050;  display:block; margin:0px auto;  text-align:center;}
		@media (min-width: 1080px) {#beta{ bottom:40px;}}
		.col9{width: 100% !important; height: 100%!important;	background-color:transparent!important;}
		.col3{width: 100% !important;	height: 100%;	overflow: auto;	background-color:transparent!important;}
        .clip_resize {    width: 100%;    /* height: 100%; */    border-radius: 5px;    -moz-border-radius: 5px;
            -webkit-border-radius: 5px;    border: 1px solid #ccc;    background-color: #fff;    padding: 1px;    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        </style>

        <title>Demo WebGis - Parco della Favorita - Palermo 2024 | Incidenti stradali dal 2017 al 2022 </title>
    </head>
    <body>
	
		<!-- Caricamento -->
<!-- jQuery, Helpers and jqueryIntrLoader -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
		<script src="js/jquery.easing.1.3.js"></script>
        <script src="js/spin.min.js"></script>
        <script src="js/jquery.introLoader.js"></script>
		<div id="element" class="introLoading"></div>
				<script>
			$(document).on('ready', function() {
				$("#element").introLoader({
                    animation: {
                        name: 'lettersLoader',
                        options: {
                            ease: "easeInOutCirc",
                            style: 'light',
                            delayBefore: 500,
                            delayAfter: 0,
                            exitTime: 300,
                            loaderText: 'Incidenti stradali dal 2017 al 2022 ', 
                            lettersDelayTime: 0
							                        }
                    },
                    spinJs: {
                        lines: 50, // The number of lines to draw
                        length: 50, // The length of each line
                        radius: 80, // The radius of the inner circle
                        width: 3, // The line thickness
                        color: '#333' // #rgb or #rrggbb or array of colors
                    }
                });
			});
		</script>
		

	<!-- mappa       -->
        <div id="map"> 
<!-- Side Panel right -->
		<div id="mySidepanelRight" class="sidepanel" aria-label="side panel" aria-hidden="false">
			<div class="sidepanel-inner-wrapper">
				<nav class="sidepanel-tabs-wrapper" aria-label="sidepanel tab navigation">
				<!-- beta version       -->
		<div id="beta"><img src="images/beta.png" width="80" title="beta version" alt="beta version"></a></div>
					<ul class="sidepanel-tabs">
							<li class="sidepanel-tab">
							<a href="#" Title="Visualizza altri tematismi" class="sidebar-tab-link" role="tab" data-tab-link="tab-1">Mappe</a>
						</li>
						<li class="sidepanel-tab">
							<a href="#" Title="Note" class="sidebar-tab-link" role="tab" data-tab-link="tab-2">Note</a>
						</li>
                        <li class="sidepanel-tab">
							<a href="#" Title="Filtri mappa corrente" class="sidebar-tab-link" role="tab" data-tab-link="tab-3">Filtri</a>
						</li>
					</ul>
				</nav>
				<div class="sidepanel-content-wrapper">
					<div class="sidepanel-content">
                        <div class="sidepanel-tab-content" data-tab-content="tab-1">
                            <h4>Indice - Parco della Favorita | 2024</h4>
                            <p><a href="../cartografia_storica.html#15/38.1667/13.3432" target="_parent" Title="Cartografia storica" >01. Cartografia storica</a><br>
                            <a href="../carta_del_suolo.html#15/38.1667/13.3432" Title="Cartografia storica" target="_parent">02. Carta del suolo</a><br>
							<a href="#" Title="bla bla bla" target="_parent">03. xxx xxx xxx </a><br>
							<a href="#" Title="bla bla bla" target="_parent">04. xxx xxx xxx </a><br>
							<a href="#" Title="bla bla bla" target="_parent">05. xxx xxx xxx </a><br>
							<a href="#" Title="bla bla bla" target="_parent">06. xxx xxx xxx </a><br>
							<a href="#" Title="bla bla bla" target="_parent">07. xxx xxx xxx </a><br>
							<a href="#" Title="bla bla bla" target="_parent">08. xxx xxx xxx </a><br>
							<a href="#" Title="bla bla bla" target="_parent">09. xxx xxx xxx </a><br>
							<a href="../incidenti_stra.html" Title="Analisi degli Incidenti stradali nel Parco della Favorita" target="_parent">10. Analisi degli Incidenti stradali nel Parco della Favorita </a><br>
							</p>
						</div>
						<div  class="sidepanel-tab-content" data-tab-content="tab-2">
							<h4>Analisi degli Incidenti nel Parco della Favorita: Dati e Prospettive</h4> 
							<p>Durante la recente riunione sul Parco della Favorita, tenutasi giovedì scorso (18-lug-2024), è emersa una discussione significativa sulla viabilità e la sicurezza stradale. In particolare, è stata sollevata la proposta di installare semafori intelligenti per ridurre il numero di incidenti.<br><br>
							Questa discussione ha stimolato un'importante domanda: qual è l'effettiva incidenza degli incidenti stradali nell'area del Parco?<br><br>
							Per rispondere a questa domanda, è stata condotta un'analisi preliminare utilizzando gli open data sugli incidenti stradali rilevati e pubblicati dalla Polizia Municipale sul portale del Comune di Palermo. L'analisi copre un periodo di 5 anni, dal 2017 al 2022. <br><br>
                             <b>Nota:</b> Il dataset comprende gli anni 2017, 2018, 2020, 2021 e 2022. I dati del 2019 sono stati omessi a causa dell'assenza di coordinate geografiche, essenziali per l'analisi spaziale.<br>
                           <h4>Risultati Preliminari</h4> <br>
							L'analisi dei dati ha rivelato le seguenti informazioni cruciali:<br><br>
							<h4>Distribuzione geografica degli incidenti:</h4> 	
							- 270 incidenti all'interno dell'area del parco;br>
							- 390 incidenti nella zona limitrofa;<br>
							- 13.390 incidenti nel resto del territorio comunale.<br><br>
							<h4>Gravità degli incidenti all'interno del Parco:</h4><br>
							- 5 incidenti mortali;<br>
							- 9 incidenti con riserva sulla vita;<br>
							- 154 incidenti con feriti lievi;<br>
							- 102 incidenti con danni solo a cose.<br><br>
							Questi dati evidenziano che, sebbene il numero di incidenti nel Parco della Favorita e nelle zone limitrofe sia relativamente basso rispetto al resto del territorio comunale, la presenza di incidenti gravi (mortali o con riserva sulla vita) sottolinea l'importanza di interventi mirati per migliorare la sicurezza stradale in quest'area.<br><br>

                            <a href="../../gallery/analisi/Favorita_incidenti.png" title="Incidenti stradali dal 2017 al 2022 |  Scarica la tavola in formato pdf " target="_blank"> <img src="../../gallery/analisi/Favorita_incidenti.png" class="clip_resize" title="Incidenti stradali dal 2017 al 2022 | Scarica la tavola in formato pdf" border="0" /></a>
                            </p>
						</div>	
                        <div  class="sidepanel-tab-content" data-tab-content="tab-3">
							<div id="incidenti"</div><!-- <h4>Filtri</h4> -->
							<p> Permette di scegliere più campi e mostrerà la possibilità grafica di filtrare i dati visibili sulla mappa.</p>
						</div>					
					</div>
				</div>
			</div>
			<div class="sidepanel-toggle-container">
				<button class="sidepanel-toggle-button" type="button" aria-label="toggle side panel" title="Attiva il pannello dei filtri"></button>
			</div>		</div>			</div>

 
		<!-- Scripts -->
        <script src="js/qgis2web_expressions.js"></script>
        <script src="js/leaflet.js"></script>
        <script src="js/L.Control.Layers.Tree.min.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet.pattern.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="js/leaflet-measure.js"></script>
        <script src="js/tailDT.js"></script>
        <script src="js/nouislider.min.js"></script>
        <script src="js/wNumb.js"></script>
		<!-- script credits -->
		<script type="text/javascript" src="js/leaflet-control-credits.js"></script>
		<script type="text/javascript" src="js/Leaflet.GraphicScale.min.js"></script>
		  <!-- script automatico mobile/desktop --> 
		<script> if (screen && screen.width < 737) { document.write('<script type="text/javascript" src="js/Leaflet_GraphicScale_min_mobile.js"><\/script>'); } </script>
		<script> if (screen && screen.width > 738) { document.write('<script type="text/javascript" src="js/Leaflet_GraphicScale_min.js"><\/script>'); } </script> 
		  <script src="js/Leaflet.BigImage.js"></script>
		<script src="js/LControlMousePosition.js"></script>
		<script src="js/leaflet.zoomhome.min.js"></script>
		<script type="text/javascript" src="js/leaflet-history.js"></script>
		<script src="js/leaflet.fullscreen.js"></script>
		<script src="js/leaflet-sidepanel.js"></script>
		<script src="js/leaflet.scalefactor.js"></script>
		 <!-- script dati mappa --> 
        <script src="data/Palermo_Sinistri_2017_2022_1.js"></script>
		        <script src="data/perimetro_parcofavorita_4.js"></script>
		<script src="data/Differenza_0.js"></script>
       <script>

	        var highlightLayer;
        function highlightFeature(e) {
            highlightLayer = e.target;

            if (e.target.feature.geometry.type === 'LineString' || e.target.feature.geometry.type === 'MultiLineString') {
              highlightLayer.setStyle({
                color: '#ff9900',
              });
            } else {
              highlightLayer.setStyle({
                fillColor: '#ff9900',
                fillOpacity: 0.5
              });
            }
			// mostra popup mouse 
           // .leaflet-top .leaflet-control
        }
		
        var map = L.map('map', {
            zoomControl:false, maxZoom:18, minZoom:13  }).fitBounds([[38.144322827528214,13.303485067067136],[38.18906926103667,13.382769795748876]]);
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a> - <a href="https://x.com/gbvitrano">by @gbvitrano</a> - ');
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
        // remove popup's row if "visible-with-data"
        function removeEmptyRowsFromPopupContent(content, feature) {
         var tempDiv = document.createElement('div');
         tempDiv.innerHTML = content;
         var rows = tempDiv.querySelectorAll('tr');
         for (var i = 0; i < rows.length; i++) {
             var td = rows[i].querySelector('td.visible-with-data');
             var key = td ? td.id : '';
             if (td && td.classList.contains('visible-with-data') && feature.properties[key] == null) {
                 rows[i].parentNode.removeChild(rows[i]);
             }
         }
         return tempDiv.innerHTML;
        }
        // add class to format popup if it contains media
		function addClassToPopupIfMedia(content, popup) {
			var tempDiv = document.createElement('div');
			tempDiv.innerHTML = content;
			if (tempDiv.querySelector('td img')) {
				popup._contentNode.classList.add('media');
					// Delay to force the redraw
					setTimeout(function() {
						popup.update();
					}, 10);
			} else {
				popup._contentNode.classList.remove('media');
			}
		}
<!-- Side panel Right --> 				
		const sidepanelRight = L.control.sidepanel('mySidepanelRight', {
			panelPosition: 'right',
			tabsPosition: 'top',
			pushControls: true,
			darkMode: false,
			startTab: 'tab-1'
		}).addTo(map);
		
        var measureControl = new L.Control.Measure({
            position: 'bottomleft',
            primaryLengthUnit: 'meters',
            secondaryLengthUnit: 'kilometers',
            primaryAreaUnit: 'sqmeters',
            secondaryAreaUnit: 'hectares'
        });
        measureControl.addTo(map);
        document.getElementsByClassName('leaflet-control-measure-toggle')[0].innerHTML = '';
        document.getElementsByClassName('leaflet-control-measure-toggle')[0].className += ' fas fa-ruler';
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
            if (bounds_group.getLayers().length) {
                map.fitBounds(bounds_group.getBounds());
            }
            map.setMaxBounds(map.getBounds());
        }
        map.createPane('pane_GoogleHybrid_0');
        map.getPane('pane_GoogleHybrid_0').style.zIndex = 400;
        var layer_GoogleHybrid_0 = L.tileLayer('https://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}', {
            pane: 'pane_GoogleHybrid_0',
            opacity: 1.0,
            attribution: '<a href="https://www.google.at/permissions/geoguidelines/attr-guide.html">Map data ©2015 Google</a>',
            minZoom: 12,
            maxZoom: 18,
            minNativeZoom: 12,
            maxNativeZoom: 18
        });
        layer_GoogleHybrid_0;
		map.addLayer (layer_GoogleHybrid_0)
		
        map.createPane('pane_OSMStandard_1');
        map.getPane('pane_OSMStandard_1').style.zIndex = 401;
        var layer_OSMStandard_1 = L.tileLayer('http://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            pane: 'pane_OSMStandard_1',
            opacity: 1.0,
            attribution: '<a href="https://www.openstreetmap.org/copyright">© OpenStreetMap contributors, CC-BY-SA</a>',
            minZoom: 12,
            maxZoom: 18,
            minNativeZoom: 12,
            maxNativeZoom: 18
        });
        layer_OSMStandard_1;
		//map.addLayer (layer_OSMStandard_1)
		

			// Area comune bucata
        function pop_Differenza_0(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function(feature){
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['osm_id'] !== null ? autolinker.link(feature.properties['osm_id'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['class'] !== null ? autolinker.link(feature.properties['class'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['type'] !== null ? autolinker.link(feature.properties['type'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['name'] !== null ? autolinker.link(feature.properties['name'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['address'] !== null ? autolinker.link(feature.properties['address'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['extratags'] !== null ? autolinker.link(feature.properties['extratags'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 405 });
        }

        function style_Differenza_0_0() {
            return {
                pane: 'pane_Differenza_0',
                opacity: .1,
                color: 'rgba(35,35,35,.1)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: .7,
                fillColor: 'rgba(255,255,255,1)',
                interactive: false,
            }
        }
        map.createPane('pane_Differenza_0');
        map.getPane('pane_Differenza_0').style.zIndex = 405;
        map.getPane('pane_Differenza_0').style['mix-blend-mode'] = 'normal';
        var layer_Differenza_0 = new L.geoJson(json_Differenza_0, {
            attribution: '',
            interactive: false,
            dataVar: 'json_Differenza_0',
            layerName: 'layer_Differenza_0',
            pane: 'pane_Differenza_0',
            onEachFeature: pop_Differenza_0,
            style: style_Differenza_0_0,
        });
        bounds_group.addLayer(layer_Differenza_0);
     map.addLayer(layer_Differenza_0);
	 
		<!-- perimetro -->
	  function pop_perimetro_parcofavorita_4(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function(feature){
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['OBJECTID'] !== null ? autolinker.link(feature.properties['OBJECTID'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CODICE_REG'] !== null ? autolinker.link(feature.properties['CODICE_REG'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NOME_AREA'] !== null ? autolinker.link(feature.properties['NOME_AREA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['AREA_KMQ'] !== null ? autolinker.link(feature.properties['AREA_KMQ'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['DATUM'] !== null ? autolinker.link(feature.properties['DATUM'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['PROIEZIONE'] !== null ? autolinker.link(feature.properties['PROIEZIONE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['FUSO'] !== null ? autolinker.link(feature.properties['FUSO'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['LAT_MT'] !== null ? autolinker.link(feature.properties['LAT_MT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['LON_MT'] !== null ? autolinker.link(feature.properties['LON_MT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['RIF_LEGGE'] !== null ? autolinker.link(feature.properties['RIF_LEGGE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['REGIONE'] !== null ? autolinker.link(feature.properties['REGIONE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['PROVINCIA'] !== null ? autolinker.link(feature.properties['PROVINCIA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['COMUNE'] !== null ? autolinker.link(feature.properties['COMUNE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['TIPOLOGIA'] !== null ? autolinker.link(feature.properties['TIPOLOGIA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ZONA'] !== null ? autolinker.link(feature.properties['ZONA'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['TIPO_SITO'] !== null ? autolinker.link(feature.properties['TIPO_SITO'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['REG_BIOG'] !== null ? autolinker.link(feature.properties['REG_BIOG'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ANNO_ISTIT'] !== null ? autolinker.link(feature.properties['ANNO_ISTIT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['DATA_ISTIT'] !== null ? autolinker.link(feature.properties['DATA_ISTIT'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['GESTORE'] !== null ? autolinker.link(feature.properties['GESTORE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CAP'] !== null ? autolinker.link(feature.properties['CAP'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['TEL'] !== null ? autolinker.link(feature.properties['TEL'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['CELL'] !== null ? autolinker.link(feature.properties['CELL'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['INDIRIZZO'] !== null ? autolinker.link(feature.properties['INDIRIZZO'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['MAIL'] !== null ? autolinker.link(feature.properties['MAIL'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Shape.STArea()'] !== null ? autolinker.link(feature.properties['Shape.STArea()'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Shape.STLength()'] !== null ? autolinker.link(feature.properties['Shape.STLength()'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_perimetro_parcofavorita_4_0() {
            return {
                pane: 'pane_perimetro_parcofavorita_4',
                opacity: 1,
                color: 'rgba(215,25,28,1.0)',
                dashArray: '5.0,1.0',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 3.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(224,209,134,0.0)',
                interactive: false,
            }
        }
        map.createPane('pane_perimetro_parcofavorita_4');
        map.getPane('pane_perimetro_parcofavorita_4').style.zIndex = 404;
        map.getPane('pane_perimetro_parcofavorita_4').style['mix-blend-mode'] = 'normal';
        var layer_perimetro_parcofavorita_4 = new L.geoJson(json_perimetro_parcofavorita_4, {
            attribution: '',
            interactive: false,
            dataVar: 'json_perimetro_parcofavorita_4',
            layerName: 'layer_perimetro_parcofavorita_4',
            pane: 'pane_perimetro_parcofavorita_4',
            onEachFeature: pop_perimetro_parcofavorita_4,
            style: style_perimetro_parcofavorita_4_0,
        });
        bounds_group.addLayer(layer_perimetro_parcofavorita_4);
        map.addLayer(layer_perimetro_parcofavorita_4);
		
			<!-- incidenti -->	
        function pop_Palermo_Sinistri_2017_2022_1(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
			  <tr>\
                   Incidenti stradali rilevati nel territorio comunale di Palermo negli anni 2017 - 2022 dalla Polizia Municipale <br><br>\
                   </tr>\
                    <tr>\
                        <th scope="row">Quando:</th>\
                        <td class="visible-with-data" id="Anno"><br></td>\
                    </tr>\
					  <tr>\
                        <th scope="row">Anno</th>\
                        <td class="visible-with-data" id="Anno">' + (feature.properties['Anno'] !== null ? autolinker.link(feature.properties['Anno'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Mese</th>\
                        <td class="visible-with-data" id="Mese">' + (feature.properties['Mese'] !== null ? autolinker.link(feature.properties['Mese'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Giorno</th>\
                        <td class="visible-with-data" id="Giorno">' + (feature.properties['Giorno'] !== null ? autolinker.link(feature.properties['Giorno'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Data</th>\
                        <td class="visible-with-data" id="Data">' + (feature.properties['Data'] !== null ? autolinker.link(feature.properties['Data'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Ora</th>\
                        <td class="visible-with-data" id="Ora">' + (feature.properties['Ora'] !== null ? autolinker.link(feature.properties['Ora'].toLocaleString()) : '') + '<br><br></td>\
                    </tr>\
					 <tr>\
                        <th scope="row">Fasi temporali:</th>\
                        <td class="visible-with-data" id="Anno"><br></td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Stagione</th>\
                        <td class="visible-with-data" id="Stagioni">' + (feature.properties['Stagioni'] !== null ? autolinker.link(feature.properties['Stagioni'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Fascia</th>\
                        <td class="visible-with-data" id="Fasce">' + (feature.properties['Fasce'] !== null ? autolinker.link(feature.properties['Fasce'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Giorno/Notte</th>\
                        <td class="visible-with-data" id="Giorno/Notte">' + (feature.properties['Giorno/Notte'] !== null ? autolinker.link(feature.properties['Giorno/Notte'].toLocaleString()) : '') + '<br><br></td>\
                    </tr>\
						 <tr>\
                        <th scope="row">Tipologia incidente:</th>\
                        <td class="visible-with-data" id="Anno"><br></td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Feriti</th>\
                        <td class="visible-with-data" id="Feriti">' + (feature.properties['Feriti'] !== null ? autolinker.link(feature.properties['Feriti'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Tipo Sinistro</th>\
                        <td class="visible-with-data" id="Tipo Sinistro">' + (feature.properties['Tipo Sinistro'] !== null ? autolinker.link(feature.properties['Tipo Sinistro'].toLocaleString()) : '') + '<br><br></td>\
                    </tr>\
						 <tr>\
                        <th scope="row">Dove:</th>\
                        <td class="visible-with-data" id="Anno"><br></td>\
                    </tr>\
					   <tr>\
                        <th scope="row">Area impatto</th>\
                        <td class="visible-with-data" id="Area">' + (feature.properties['Area'] !== null ? autolinker.link(feature.properties['Area'].toLocaleString()) : '') + '</td>\
                    </tr>\
					    <tr>\
                        <td class="visible-with-data" id="Luogo"colspan="2"><strong>Luogo</strong><br />' + (feature.properties['Luogo'] !== null ? autolinker.link(feature.properties['Luogo'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Latitudine</th>\
                        <td class="visible-with-data" id="Latitudine">' + (feature.properties['Latitudine'] !== null ? autolinker.link(feature.properties['Latitudine'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Longitudine</th>\
                        <td class="visible-with-data" id="Longitudine">' + (feature.properties['Longitudine'] !== null ? autolinker.link(feature.properties['Longitudine'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_Palermo_Sinistri_2017_2022_1_0(feature) {
            switch(String(feature.properties['Area'])) {
                case 'Interna al Parco':
                    return {
                pane: 'pane_Palermo_Sinistri_2017_2022_1',
                radius: 6.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(30,144,255,1.0)',
                interactive: true,
            }
                    break;
                case 'Limitrofa al Parco':
                    return {
                pane: 'pane_Palermo_Sinistri_2017_2022_1',
                radius: 5.6,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,0,255,1.0)',
                interactive: true,
            }
                    break;
                case 'Esterna al Parco':
                    return {
                pane: 'pane_Palermo_Sinistri_2017_2022_1',
                radius: 3.2,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,165,0,0.9921568627450981)',
                interactive: true,
            }
                    break;
            }
        }
        map.createPane('pane_Palermo_Sinistri_2017_2022_1');
        map.getPane('pane_Palermo_Sinistri_2017_2022_1').style.zIndex = 401;
        map.getPane('pane_Palermo_Sinistri_2017_2022_1').style['mix-blend-mode'] = 'normal';
        var layer_Palermo_Sinistri_2017_2022_1 = new L.geoJson(json_Palermo_Sinistri_2017_2022_1, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Palermo_Sinistri_2017_2022_1',
            layerName: 'layer_Palermo_Sinistri_2017_2022_1',
            pane: 'pane_Palermo_Sinistri_2017_2022_1',
            onEachFeature: pop_Palermo_Sinistri_2017_2022_1,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_Palermo_Sinistri_2017_2022_1_0(feature));
            },
        });
        bounds_group.addLayer(layer_Palermo_Sinistri_2017_2022_1);
        map.addLayer(layer_Palermo_Sinistri_2017_2022_1);
		
		var baseMaps = {};
        var overlaysTree = [
		{label: 'Parco della Favorita  &#x1f5fa;, <div class="leaflet-control-layers-separator"></div>'},

			{label: '<img src="legend/spot.png" /> Area Parco della Favorita', layer: layer_Differenza_0},
            {label: ' <img src="legend/perimetro_parcofavorita_4.png" /> Perimetro Parco della Favorita' , layer: layer_perimetro_parcofavorita_4},
		   {label: 'Palermo_ Sinistri_2017_2022<br /><table><tr><td style="text-align: center;"><img src="legend/Palermo_Sinistri_2017_2022_1_ImpattoareainternaalParcodellaFavorita2700.png" /></td><td>Impatto area interna al Parco della Favorita (270)</td></tr><tr><td style="text-align: center;"><img src="legend/Palermo_Sinistri_2017_2022_1_ImpattoarealimitrofaalParcodellaFavorita3901.png" /></td><td>Impatto area limitrofa al Parco della Favorita (390)</td></tr><tr><td style="text-align: center;"><img src="legend/Palermo_Sinistri_2017_2022_1_ImpattoareaesternaalParcodellaFavorita139902.png" /></td><td>Impatto area esterna al Parco della Favorita (13.990)</td></tr></table>', layer: layer_Palermo_Sinistri_2017_2022_1},
		    {label: 'OSM Standard', layer: layer_OSMStandard_1},
            {label: 'Google Hybrid', layer: layer_GoogleHybrid_0},]
        var lay = L.control.layers.tree(null, overlaysTree,{
            //namedToggle: true,
            //selectorBack: false,
            //closedSymbol: '&#8862; &#x1f5c0;',
            //openedSymbol: '&#8863; &#x1f5c1;',
            //collapseAll: 'Collapse all',
            //expandAll: 'Expand all',
            collapsed: true, 
        });
        lay.addTo(map);
        setBounds();
<!-- filtri -->
        var mapDiv = document.getElementById('incidenti');
        var row = document.createElement('div');
        row.className="row";
        row.id="all";
        row.style.height = "100%";
        var col1 = document.createElement('div');
        col1.className="col9";
        col1.id = "mapWindow";
        col1.style.height = "99%";
        col1.style.width = "80%";
        col1.style.display = "inline-block";
        var col2 = document.createElement('div');
        col2.className="col3";
        col2.id = "menu";
        col2.style.display = "inline-block";
        mapDiv.parentNode.insertBefore(row, mapDiv);
        document.getElementById("all").appendChild(col1);
        document.getElementById("all").appendChild(col2);
        col1.appendChild(mapDiv)
        var Filters = {"Anno": "int","Feriti": "int","Tipo Sinistro": "str","Area": "str","Giorno/Notte": "str","Stagioni": "str","Fasce": "str","Mese": "str","Giorno": "str"};
        function filterFunc() {
          map.eachLayer(function(lyr){
          if ("options" in lyr && "dataVar" in lyr["options"]){
            features = this[lyr["options"]["dataVar"]].features.slice(0);
            try{
              for (key in Filters){
                keyS = key.replace(/[^a-zA-Z0-9_]/g, "")
                if (Filters[key] == "str" || Filters[key] == "bool"){
                  var selection = [];
                  var options = document.getElementById("sel_" + keyS).options
                  for (var i=0; i < options.length; i++) {
                    if (options[i].selected) selection.push(options[i].value);
                  }
                    try{
                      if (key in features[0].properties){
                        for (i = features.length - 1;
                          i >= 0; --i){
                          if (selection.indexOf(
                          features[i].properties[key])<0
                          && selection.length>0) {
                          features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                  }
                }
                if (Filters[key] == "int"){
                  sliderVals =  document.getElementById(
                    "div_" + keyS).noUiSlider.get();
                  try{
                    if (key in features[0].properties){
                    for (i = features.length - 1; i >= 0; --i){
                      if (parseInt(features[i].properties[key])
                          < sliderVals[0]
                          || parseInt(features[i].properties[key])
                          > sliderVals[1]){
                            features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                    }
                  }
                if (Filters[key] == "real"){
                  sliderVals =  document.getElementById(
                    "div_" + keyS).noUiSlider.get();
                  try{
                    if (key in features[0].properties){
                    for (i = features.length - 1; i >= 0; --i){
                      if (features[i].properties[key]
                          < sliderVals[0]
                          || features[i].properties[key]
                          > sliderVals[1]){
                            features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                    }
                  }
                if (Filters[key] == "date"
                  || Filters[key] == "datetime"
                  || Filters[key] == "time"){
                  try{
                    if (key in features[0].properties){
                      HTMLkey = key.replace(/[&\/\\#,+()$~%.'":*?<>{} ]/g, '');
                      startdate = document.getElementById("dat_" +
                        HTMLkey + "_date1").value.replace(" ", "T");
                      enddate = document.getElementById("dat_" +
                        HTMLkey + "_date2").value.replace(" ", "T");
                      for (i = features.length - 1; i >= 0; --i){
                        if (features[i].properties[key] < startdate
                          || features[i].properties[key] > enddate){
                          features.splice(i,1);
                        }
                      }
                    }
                  } catch(err){
                  }
                }
              }
            } catch(err){
            }
          this[lyr["options"]["layerName"]].clearLayers();
          this[lyr["options"]["layerName"]].addData(features);
          }
          })
        }
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_Anno = document.createElement("div");
            div_Anno.id = "div_Anno";
            div_Anno.className = "slider";
            document.getElementById("menu").appendChild(div_Anno);
            var lab_Anno = document.createElement('div');
            lab_Anno.innerHTML  = 'Anno: <span id="val_Anno"></span>';
            lab_Anno.className = 'filterlabel';
            document.getElementById("menu").appendChild(lab_Anno);
            var reset_Anno = document.createElement('div');
            reset_Anno.innerHTML = 'clear filter';
            reset_Anno.className = 'filterlabel';
            lab_Anno.className = 'filterlabel';
            reset_Anno.onclick = function() {
                sel_Anno.noUiSlider.reset();
            };
            document.getElementById("menu").appendChild(reset_Anno);
            var sel_Anno = document.getElementById('div_Anno');
            noUiSlider.create(sel_Anno, {
                connect: true,
                start: [2017, 2022],
                step: 1,
                format: wNumb({
                    decimals: 0,
                    }),
                range: {
                min: 2017,
                max: 2022
                }
            });
            sel_Anno.noUiSlider.on('update', function (values) {
            filterVals =[];
            for (value in values){
            filterVals.push(parseInt(value))
            }
            val_Anno = document.getElementById('val_Anno');
            val_Anno.innerHTML = values.join(' - ');
                filterFunc()
            });
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_Feriti = document.createElement("div");
            div_Feriti.id = "div_Feriti";
            div_Feriti.className = "slider";
            document.getElementById("menu").appendChild(div_Feriti);
            var lab_Feriti = document.createElement('div');
            lab_Feriti.innerHTML  = 'Feriti: <span id="val_Feriti"></span>';
            lab_Feriti.className = 'filterlabel';
            document.getElementById("menu").appendChild(lab_Feriti);
            var reset_Feriti = document.createElement('div');
            reset_Feriti.innerHTML = 'clear filter';
            reset_Feriti.className = 'filterlabel';
            lab_Feriti.className = 'filterlabel';
            reset_Feriti.onclick = function() {
                sel_Feriti.noUiSlider.reset();
            };
            document.getElementById("menu").appendChild(reset_Feriti);
            var sel_Feriti = document.getElementById('div_Feriti');
            noUiSlider.create(sel_Feriti, {
                connect: true,
                start: [0, 8],
                step: 1,
                format: wNumb({
                    decimals: 0,
                    }),
                range: {
                min: 0,
                max: 8
                }
            });
            sel_Feriti.noUiSlider.on('update', function (values) {
            filterVals =[];
            for (value in values){
            filterVals.push(parseInt(value))
            }
            val_Feriti = document.getElementById('val_Feriti');
            val_Feriti.innerHTML = values.join(' - ');
                filterFunc()
            });
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_TipoSinistro = document.createElement('div');
            div_TipoSinistro.id = "div_TipoSinistro";
            div_TipoSinistro.className= "filterselect";
            document.getElementById("menu").appendChild(div_TipoSinistro);
            sel_TipoSinistro = document.createElement('select');
            sel_TipoSinistro.multiple = true;
            sel_TipoSinistro.size = 4;
            sel_TipoSinistro.id = "sel_TipoSinistro";
            var TipoSinistro_options_str = "<option value='' unselected></option>";
            sel_TipoSinistro.onchange = function(){filterFunc()};
            TipoSinistro_options_str  += '<option value="C">C</option>';
            TipoSinistro_options_str  += '<option value="F">F</option>';
            TipoSinistro_options_str  += '<option value="M">M</option>';
            TipoSinistro_options_str  += '<option value="R">R</option>';
            sel_TipoSinistro.innerHTML = TipoSinistro_options_str;
            div_TipoSinistro.appendChild(sel_TipoSinistro);
            var lab_TipoSinistro = document.createElement('div');
            lab_TipoSinistro.innerHTML = 'Tipo Sinistro';
            lab_TipoSinistro.className = 'filterlabel';
            div_TipoSinistro.appendChild(lab_TipoSinistro);
            var reset_TipoSinistro = document.createElement('div');
            reset_TipoSinistro.innerHTML = 'clear filter';
            reset_TipoSinistro.className = 'filterlabel';
            reset_TipoSinistro.onclick = function() {
                var options = document.getElementById("sel_TipoSinistro").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_TipoSinistro.appendChild(reset_TipoSinistro);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_Area = document.createElement('div');
            div_Area.id = "div_Area";
            div_Area.className= "filterselect";
            document.getElementById("menu").appendChild(div_Area);
            sel_Area = document.createElement('select');
            sel_Area.multiple = true;
            sel_Area.size = 3;
            sel_Area.id = "sel_Area";
            var Area_options_str = "<option value='' unselected></option>";
            sel_Area.onchange = function(){filterFunc()};
			Area_options_str  += '<option value="Interna al Parco">Interna al Parco</option>';
			Area_options_str  += '<option value="Limitrofa al Parco">Limitrofa al Parco</option>';
            Area_options_str  += '<option value="Esterna al Parco">Esterna al Parco</option>';
            
            
            sel_Area.innerHTML = Area_options_str;
            div_Area.appendChild(sel_Area);
            var lab_Area = document.createElement('div');
            lab_Area.innerHTML = 'Area';
            lab_Area.className = 'filterlabel';
            div_Area.appendChild(lab_Area);
            var reset_Area = document.createElement('div');
            reset_Area.innerHTML = 'clear filter';
            reset_Area.className = 'filterlabel';
            reset_Area.onclick = function() {
                var options = document.getElementById("sel_Area").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_Area.appendChild(reset_Area);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_GiornoNotte = document.createElement('div');
            div_GiornoNotte.id = "div_GiornoNotte";
            div_GiornoNotte.className= "filterselect";
            document.getElementById("menu").appendChild(div_GiornoNotte);
            sel_GiornoNotte = document.createElement('select');
            sel_GiornoNotte.multiple = true;
            sel_GiornoNotte.size = 2;
            sel_GiornoNotte.id = "sel_GiornoNotte";
            var GiornoNotte_options_str = "<option value='' unselected></option>";
            sel_GiornoNotte.onchange = function(){filterFunc()};
            GiornoNotte_options_str  += '<option value="Giorno">Giorno</option>';
            GiornoNotte_options_str  += '<option value="Notte">Notte</option>';
            sel_GiornoNotte.innerHTML = GiornoNotte_options_str;
            div_GiornoNotte.appendChild(sel_GiornoNotte);
            var lab_GiornoNotte = document.createElement('div');
            lab_GiornoNotte.innerHTML = 'Giorno/Notte';
            lab_GiornoNotte.className = 'filterlabel';
            div_GiornoNotte.appendChild(lab_GiornoNotte);
            var reset_GiornoNotte = document.createElement('div');
            reset_GiornoNotte.innerHTML = 'clear filter';
            reset_GiornoNotte.className = 'filterlabel';
            reset_GiornoNotte.onclick = function() {
                var options = document.getElementById("sel_GiornoNotte").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_GiornoNotte.appendChild(reset_GiornoNotte);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_Stagioni = document.createElement('div');
            div_Stagioni.id = "div_Stagioni";
            div_Stagioni.className= "filterselect";
            document.getElementById("menu").appendChild(div_Stagioni);
            sel_Stagioni = document.createElement('select');
            sel_Stagioni.multiple = true;
            sel_Stagioni.size = 4;
            sel_Stagioni.id = "sel_Stagioni";
            var Stagioni_options_str = "<option value='' unselected></option>";
            sel_Stagioni.onchange = function(){filterFunc()};
            Stagioni_options_str  += '<option value="Autunno">Autunno</option>';
            Stagioni_options_str  += '<option value="Estate">Estate</option>';
            Stagioni_options_str  += '<option value="Inverno">Inverno</option>';
            Stagioni_options_str  += '<option value="Primavera">Primavera</option>';
            sel_Stagioni.innerHTML = Stagioni_options_str;
            div_Stagioni.appendChild(sel_Stagioni);
            var lab_Stagioni = document.createElement('div');
            lab_Stagioni.innerHTML = 'Stagioni';
            lab_Stagioni.className = 'filterlabel';
            div_Stagioni.appendChild(lab_Stagioni);
            var reset_Stagioni = document.createElement('div');
            reset_Stagioni.innerHTML = 'clear filter';
            reset_Stagioni.className = 'filterlabel';
            reset_Stagioni.onclick = function() {
                var options = document.getElementById("sel_Stagioni").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_Stagioni.appendChild(reset_Stagioni);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_Fasce = document.createElement('div');
            div_Fasce.id = "div_Fasce";
            div_Fasce.className= "filterselect";
            document.getElementById("menu").appendChild(div_Fasce);
            sel_Fasce = document.createElement('select');
            sel_Fasce.multiple = true;
            sel_Fasce.size = 6;
            sel_Fasce.id = "sel_Fasce";
            var Fasce_options_str = "<option value='' unselected></option>";
            sel_Fasce.onchange = function(){filterFunc()};
            Fasce_options_str  += '<option value="0-4">0-4</option>';
            Fasce_options_str  += '<option value="12-16">12-16</option>';
            Fasce_options_str  += '<option value="16-20">16-20</option>';
            Fasce_options_str  += '<option value="20-24">20-24</option>';
            Fasce_options_str  += '<option value="4-8">4-8</option>';
            Fasce_options_str  += '<option value="8-12">8-12</option>';
            sel_Fasce.innerHTML = Fasce_options_str;
            div_Fasce.appendChild(sel_Fasce);
            var lab_Fasce = document.createElement('div');
            lab_Fasce.innerHTML = 'Fasce';
            lab_Fasce.className = 'filterlabel';
            div_Fasce.appendChild(lab_Fasce);
            var reset_Fasce = document.createElement('div');
            reset_Fasce.innerHTML = 'clear filter';
            reset_Fasce.className = 'filterlabel';
            reset_Fasce.onclick = function() {
                var options = document.getElementById("sel_Fasce").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_Fasce.appendChild(reset_Fasce);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_Mese = document.createElement('div');
            div_Mese.id = "div_Mese";
            div_Mese.className= "filterselect";
            document.getElementById("menu").appendChild(div_Mese);
            sel_Mese = document.createElement('select');
            sel_Mese.multiple = true;
            sel_Mese.size = 10;
            sel_Mese.id = "sel_Mese";
            var Mese_options_str = "<option value='' unselected></option>";
            sel_Mese.onchange = function(){filterFunc()};
            Mese_options_str  += '<option value="agosto">agosto</option>';
            Mese_options_str  += '<option value="aprile">aprile</option>';
            Mese_options_str  += '<option value="dicembre">dicembre</option>';
            Mese_options_str  += '<option value="febbraio">febbraio</option>';
            Mese_options_str  += '<option value="gennaio">gennaio</option>';
            Mese_options_str  += '<option value="giugno">giugno</option>';
            Mese_options_str  += '<option value="luglio">luglio</option>';
            Mese_options_str  += '<option value="maggio">maggio</option>';
            Mese_options_str  += '<option value="marzo">marzo</option>';
            Mese_options_str  += '<option value="novembre">novembre</option>';
            Mese_options_str  += '<option value="ottobre">ottobre</option>';
            Mese_options_str  += '<option value="settembre">settembre</option>';
            sel_Mese.innerHTML = Mese_options_str;
            div_Mese.appendChild(sel_Mese);
            var lab_Mese = document.createElement('div');
            lab_Mese.innerHTML = 'Mese';
            lab_Mese.className = 'filterlabel';
            div_Mese.appendChild(lab_Mese);
            var reset_Mese = document.createElement('div');
            reset_Mese.innerHTML = 'clear filter';
            reset_Mese.className = 'filterlabel';
            reset_Mese.onclick = function() {
                var options = document.getElementById("sel_Mese").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_Mese.appendChild(reset_Mese);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_Giorno = document.createElement('div');
            div_Giorno.id = "div_Giorno";
            div_Giorno.className= "filterselect";
            document.getElementById("menu").appendChild(div_Giorno);
            sel_Giorno = document.createElement('select');
            sel_Giorno.multiple = true;
            sel_Giorno.size = 7;
            sel_Giorno.id = "sel_Giorno";
            var Giorno_options_str = "<option value='' unselected></option>";
            sel_Giorno.onchange = function(){filterFunc()};
            Giorno_options_str  += '<option value="domenica">domenica</option>';
            Giorno_options_str  += '<option value="giovedì">giovedì</option>';
            Giorno_options_str  += '<option value="lunedì">lunedì</option>';
            Giorno_options_str  += '<option value="martedì">martedì</option>';
            Giorno_options_str  += '<option value="mercoledì">mercoledì</option>';
            Giorno_options_str  += '<option value="sabato">sabato</option>';
            Giorno_options_str  += '<option value="venerdì">venerdì</option>';
            sel_Giorno.innerHTML = Giorno_options_str;
            div_Giorno.appendChild(sel_Giorno);
            var lab_Giorno = document.createElement('div');
            lab_Giorno.innerHTML = 'Giorno';
            lab_Giorno.className = 'filterlabel';
            div_Giorno.appendChild(lab_Giorno);
            var reset_Giorno = document.createElement('div');
            reset_Giorno.innerHTML = 'clear filter';
            reset_Giorno.className = 'filterlabel';
            reset_Giorno.onclick = function() {
                var options = document.getElementById("sel_Giorno").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_Giorno.appendChild(reset_Giorno);
		
	<!-- plugin accessori -->   
// var bigImage = L.control.bigImage({position: 'topleft'});bigImage.addTo(map);

<!-- scala mappa -->		
	<!-- scala mappa -->		
		var graphicScale = L.control.graphicScale({
		doubleLine: true,
		fill: 'hollow',
        showSubunits: true
	}).addTo(map);
	
	<!-- cronologia -->
new L.HistoryControl({}).addTo(map);	

	<!-- stampa mamma -->
L.control.bigImage({position: 'bottomleft'}).addTo(map);	
	
<!-- muose coordinate -->
L.control.mousePosition().addTo(map);
				<!-- zoomhome-->  
var zoomHome = L.Control.zoomHome();zoomHome.addTo(map);

<!-- full Screen -->  
 L.control.fullScreenButton({
                    position: 'topleft',
                    title: 'Toggle fullscreen mode',
                    enterFullScreenIcon: 'images/full_screen.png',
                    exitFullScreenIcon: 'images/general_screen.png',
                    enterFullScreenTitle: 'Enter fullscreen mode',
                    exitFullScreenTitle: 'Exit fullscreen mode',
                    onFullScreenChange: (isFullScreen) => {
                        console.log(`FullScreen mode is now ${isFullScreen ? 'ON' : 'OFF'}`);
                    },
                })
                .addTo(map)

<!-- scala 1:2000 --> 
L.control.scalefactor().addTo(map);

<!-- credits -->   
    credits = L.controlCredits({
        	imageurl: 'images/aqu.png',
          imagealt: 'gbvitrano credits',
        	tooltip: "Rigenerazione funzionale dell'area verde ed attrezzata del Parco della Favorita",
        	width: '45px',
        	height: '45px',
        	expandcontent: 'Interactive mapping<br/>by <a href="https://www.comune.palermo.it/index.php" target="_blank">gbvitrano per Comune di Palermo</a>',
        }).addTo(map);

        </script>

    </body>
</html>
